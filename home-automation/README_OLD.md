# Ğ£Ğ¼Ğ½Ñ‹Ğ¹ Ğ´Ğ¾Ğ¼ - Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ğ°

Ğ’ĞµĞ±-Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ´Ğ»Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ¹ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ Ğ¸ ÑĞ±Ğ¾Ñ€Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¸Ğ½Ğ¶ĞµĞ½ĞµÑ€Ğ½Ñ‹Ñ… ÑĞ¸ÑÑ‚ĞµĞ¼ Ñ‡Ğ°ÑÑ‚Ğ½Ğ¾Ğ³Ğ¾ Ğ´Ğ¾Ğ¼Ğ°.

> **ğŸš€ Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚:** Ğ¡Ğ»ĞµĞ´ÑƒĞ¹Ñ‚Ğµ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸ÑĞ¼ Ğ² [SETUP_SUPABASE.md](SETUP_SUPABASE.md) Ğ´Ğ»Ñ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ·Ğ° 10 Ğ¼Ğ¸Ğ½ÑƒÑ‚!

## Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸

- **ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ Ğ´Ğ°Ñ‚Ñ‡Ğ¸ĞºĞ¾Ğ² Ğ² Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ¼ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸**
  - Ğ¢ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ° (Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸, ÑĞ½Ğ°Ñ€ÑƒĞ¶Ğ¸, ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° Ğ¾Ñ‚Ğ¾Ğ¿Ğ»ĞµĞ½Ğ¸Ñ)
  - Ğ’Ğ»Ğ°Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ (Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸, ÑĞ½Ğ°Ñ€ÑƒĞ¶Ğ¸)
  - ĞÑ‚Ğ¼Ğ¾ÑÑ„ĞµÑ€Ğ½Ğ¾Ğµ Ğ´Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ
  - ĞŸĞ¾Ñ‚Ñ€ĞµĞ±Ğ»ĞµĞ½Ğ¸Ğµ ÑĞ»ĞµĞºÑ‚Ñ€Ğ¾ÑĞ½ĞµÑ€Ğ³Ğ¸Ğ¸
  - ĞĞ°Ğ¿Ñ€ÑĞ¶ĞµĞ½Ğ¸Ğµ Ğ² ÑĞµÑ‚Ğ¸

- **Ğ“Ñ€Ğ°Ñ„Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…**
  - ĞšĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ¸ Ñ Ñ‚ĞµĞºÑƒÑ‰Ğ¸Ğ¼Ğ¸ Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»ÑĞ¼Ğ¸
  - Ğ“Ñ€Ğ°Ñ„Ğ¸ĞºĞ¸ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ğ¸ (1Ñ‡, 6Ñ‡, 24Ñ‡, 7Ğ´)
  - Real-time Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ñ‡ĞµÑ€ĞµĞ· WebSocket

- **Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ» Ğ¸ ÑƒÑĞ»Ğ¾Ğ²Ğ¸Ğ¹**
  - ĞĞ°ÑÑ‚Ñ€Ğ°Ğ¸Ğ²Ğ°ĞµĞ¼Ñ‹Ğµ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ° Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ğ°
  - ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ¾Ğ¿Ğ¾Ğ²ĞµÑ‰ĞµĞ½Ğ¸Ñ
  - ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµĞ·Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»

- **Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ğ»ĞµÑ€Ğ¾Ğ¼**
  - Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¾Ñ‚Ğ¾Ğ¿Ğ»ĞµĞ½Ğ¸ĞµĞ¼
  - Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ñ‚ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ñ‹ Ğ¿Ğ¾ ĞºĞ¾Ğ¼Ğ½Ğ°Ñ‚Ğ°Ğ¼
  - Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´
  - ĞÑ‡ĞµÑ€ĞµĞ´ÑŒ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´ Ğ´Ğ»Ñ ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ğ»ĞµÑ€Ğ°

- **Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ Ğ¿Ğ¾Ğ³Ğ¾Ğ´Ğ¾Ğ¹**
  - ĞŸÑ€Ğ¾Ğ³Ğ½Ğ¾Ğ· Ğ¿Ğ¾Ğ³Ğ¾Ğ´Ñ‹ (OpenWeatherMap)
  - Ğ¢ĞµĞºÑƒÑ‰Ğ¸Ğµ Ğ¿Ğ¾Ğ³Ğ¾Ğ´Ğ½Ñ‹Ğµ ÑƒÑĞ»Ğ¾Ğ²Ğ¸Ñ

## Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸

- **Frontend:** Next.js 15, React 19, TypeScript
- **UI:** Tailwind CSS, Lucide Icons
- **Ğ“Ñ€Ğ°Ñ„Ğ¸ĞºĞ¸:** Recharts
- **Ğ‘Ğ”:** Supabase (PostgreSQL)
- **Real-time:** Supabase Realtime
- **API:** Next.js API Routes

## Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ°

### 1. ĞšĞ»Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¹

```bash
cd home-automation
npm install
```

### 2. ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Supabase

1. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ Ğ½Ğ° [supabase.com](https://supabase.com)
2. Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚Ğµ SQL Ğ¸Ğ· Ñ„Ğ°Ğ¹Ğ»Ğ° `supabase-schema.sql` Ğ² SQL Editor
3. Ğ¡ĞºĞ¾Ğ¿Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ URL Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ° Ğ¸ Anon Key

### 3. ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ñ… Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ

Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ Ñ„Ğ°Ğ¹Ğ» `.env.local`:

```bash
cp .env.local.example .env.local
```

Ğ—Ğ°Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚Ğµ Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ:

```env
# Supabase
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key

# Weather API (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)
NEXT_PUBLIC_WEATHER_API_KEY=your-openweathermap-key
NEXT_PUBLIC_WEATHER_CITY=Moscow
```

### 4. ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ API ĞºĞ»ÑÑ‡Ğ° Ğ¿Ğ¾Ğ³Ğ¾Ğ´Ñ‹ (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)

1. Ğ—Ğ°Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ¸Ñ€ÑƒĞ¹Ñ‚ĞµÑÑŒ Ğ½Ğ° [OpenWeatherMap](https://openweathermap.org/api)
2. ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚Ğµ Ğ±ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ñ‹Ğ¹ API ĞºĞ»ÑÑ‡
3. Ğ”Ğ¾Ğ±Ğ°Ğ²ÑŒÑ‚Ğµ Ğ² `.env.local`

### 5. Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ

```bash
npm run dev
```

ĞÑ‚ĞºÑ€Ğ¾Ğ¹Ñ‚Ğµ [http://localhost:3000](http://localhost:3000)

## Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

```
home-automation/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ page.tsx              # Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° (Ğ´Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´)
â”‚   â”œâ”€â”€ charts/page.tsx       # Ğ“Ñ€Ğ°Ñ„Ğ¸ĞºĞ¸
â”‚   â”œâ”€â”€ rules/page.tsx        # Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ°Ğ¼Ğ¸
â”‚   â”œâ”€â”€ control/page.tsx      # Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ°Ğ¼Ğ¸
â”‚   â””â”€â”€ api/
â”‚       â”œâ”€â”€ sensors/route.ts  # API Ğ´Ğ»Ñ Ğ´Ğ°Ñ‚Ñ‡Ğ¸ĞºĞ¾Ğ²
â”‚       â””â”€â”€ weather/route.ts  # API Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ³Ğ¾Ğ´Ñ‹
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ Card.tsx              # UI ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹
â”‚   â”œâ”€â”€ SensorCard.tsx        # ĞšĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ° Ğ´Ğ°Ñ‚Ñ‡Ğ¸ĞºĞ°
â”‚   â””â”€â”€ TemperatureChart.tsx  # Ğ“Ñ€Ğ°Ñ„Ğ¸Ğº Ñ‚ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ supabase.ts           # ĞšĞ»Ğ¸ĞµĞ½Ñ‚ Supabase
â”œâ”€â”€ types/
â”‚   â””â”€â”€ index.ts              # TypeScript Ñ‚Ğ¸Ğ¿Ñ‹
â””â”€â”€ supabase-schema.sql       # Ğ¡Ñ…ĞµĞ¼Ğ° Ğ‘Ğ”
```

## API Endpoints

### POST /api/sensors
Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ğ½Ğ¸Ñ Ğ´Ğ°Ñ‚Ñ‡Ğ¸ĞºĞ°

```json
{
  "sensor_type": "temperature_indoor",
  "value": 22.5,
  "unit": "Â°C",
  "location": "Ğ“Ğ¾ÑÑ‚Ğ¸Ğ½Ğ°Ñ"
}
```

### GET /api/sensors
ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ğ½Ğ¸Ğ¹ Ğ´Ğ°Ñ‚Ñ‡Ğ¸ĞºĞ¾Ğ²

ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹:
- `sensor_type` - Ñ‚Ğ¸Ğ¿ Ğ´Ğ°Ñ‚Ñ‡Ğ¸ĞºĞ° (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)
- `limit` - ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ·Ğ°Ğ¿Ğ¸ÑĞµĞ¹ (Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ 100)
- `hours` - Ğ¿ĞµÑ€Ğ¸Ğ¾Ğ´ Ğ² Ñ‡Ğ°ÑĞ°Ñ… (Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ 24)

ĞŸÑ€Ğ¸Ğ¼ĞµÑ€:
```
GET /api/sensors?sensor_type=temperature_indoor&hours=24
```

### GET /api/weather
ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ğ³Ğ½Ğ¾Ğ·Ğ° Ğ¿Ğ¾Ğ³Ğ¾Ğ´Ñ‹

## Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ Ğ±Ğ°Ğ·Ğ¾Ğ¹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

### Ğ¢Ğ¸Ğ¿Ñ‹ Ğ´Ğ°Ñ‚Ñ‡Ğ¸ĞºĞ¾Ğ²

- `temperature_indoor` - Ñ‚ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ° Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸
- `temperature_outdoor` - Ñ‚ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ° ÑĞ½Ğ°Ñ€ÑƒĞ¶Ğ¸
- `temperature_heating_supply` - Ñ‚ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ° Ğ¿Ğ¾Ğ´Ğ°Ñ‡Ğ¸ Ğ¾Ñ‚Ğ¾Ğ¿Ğ»ĞµĞ½Ğ¸Ñ
- `temperature_heating_return` - Ñ‚ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ° Ğ¾Ğ±Ñ€Ğ°Ñ‚ĞºĞ¸ Ğ¾Ñ‚Ğ¾Ğ¿Ğ»ĞµĞ½Ğ¸Ñ
- `humidity_indoor` - Ğ²Ğ»Ğ°Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸
- `humidity_outdoor` - Ğ²Ğ»Ğ°Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ ÑĞ½Ğ°Ñ€ÑƒĞ¶Ğ¸
- `pressure_outdoor` - Ğ°Ñ‚Ğ¼Ğ¾ÑÑ„ĞµÑ€Ğ½Ğ¾Ğµ Ğ´Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ
- `power_consumption` - Ğ¿Ğ¾Ñ‚Ñ€ĞµĞ±Ğ»ĞµĞ½Ğ¸Ğµ ÑĞ»ĞµĞºÑ‚Ñ€Ğ¾ÑĞ½ĞµÑ€Ğ³Ğ¸Ğ¸
- `voltage` - Ğ½Ğ°Ğ¿Ñ€ÑĞ¶ĞµĞ½Ğ¸Ğµ ÑĞµÑ‚Ğ¸
- `water_flow_cold` - Ñ€Ğ°ÑÑ…Ğ¾Ğ´ Ñ…Ğ¾Ğ»Ğ¾Ğ´Ğ½Ğ¾Ğ¹ Ğ²Ğ¾Ğ´Ñ‹
- `water_flow_hot` - Ñ€Ğ°ÑÑ…Ğ¾Ğ´ Ğ³Ğ¾Ñ€ÑÑ‡ĞµĞ¹ Ğ²Ğ¾Ğ´Ñ‹
- `gas_consumption` - Ñ€Ğ°ÑÑ…Ğ¾Ğ´ Ğ³Ğ°Ğ·Ğ°
- `heating_pressure` - Ğ´Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ² ÑĞ¸ÑÑ‚ĞµĞ¼Ğµ Ğ¾Ñ‚Ğ¾Ğ¿Ğ»ĞµĞ½Ğ¸Ñ

### ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

```javascript
// Ğ§ĞµÑ€ĞµĞ· API
fetch('/api/sensors', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    sensor_type: 'temperature_indoor',
    value: 22.5,
    unit: 'Â°C',
    location: 'Ğ“Ğ¾ÑÑ‚Ğ¸Ğ½Ğ°Ñ'
  })
});

// ĞĞ°Ğ¿Ñ€ÑĞ¼ÑƒÑ Ñ‡ĞµÑ€ĞµĞ· Supabase
import { supabase } from '@/lib/supabase';

await supabase.from('sensor_readings').insert({
  sensor_type: 'temperature_indoor',
  value: 22.5,
  unit: 'Â°C',
  location: 'Ğ“Ğ¾ÑÑ‚Ğ¸Ğ½Ğ°Ñ'
});
```

## Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ğ»ĞµÑ€Ğ¾Ğ¼

ĞšĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ğ»ĞµÑ€ Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½:

1. **ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑÑ‚ÑŒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ°Ñ‚Ñ‡Ğ¸ĞºĞ¾Ğ²** Ñ‡ĞµÑ€ĞµĞ· POST `/api/sensors`
2. **ĞŸĞ¾Ğ»ÑƒÑ‡Ğ°Ñ‚ÑŒ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹** Ğ¸Ğ· Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹ `controller_commands`
3. **ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑÑ‚ÑŒ ÑÑ‚Ğ°Ñ‚ÑƒÑ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´** Ğ¿Ğ¾ÑĞ»Ğµ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ

ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ ÑÑ‡Ğ¸Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ñ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´:

```javascript
// ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ pending ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹
const { data: commands } = await supabase
  .from('controller_commands')
  .select('*')
  .eq('status', 'pending')
  .order('created_at');

// ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ ÑÑ‚Ğ°Ñ‚ÑƒÑ Ğ¿Ğ¾ÑĞ»Ğµ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ
await supabase
  .from('controller_commands')
  .update({
    status: 'acknowledged',
    executed_at: new Date().toISOString()
  })
  .eq('id', command.id);
```

## Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»

ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ° Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑÑÑ‚ ÑƒÑĞ»Ğ¾Ğ²Ğ¸Ñ Ğ¸ ÑĞ¾Ğ·Ğ´Ğ°ÑÑ‚ Ğ¾Ğ¿Ğ¾Ğ²ĞµÑ‰ĞµĞ½Ğ¸Ñ.

ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ°:

```json
{
  "name": "Ğ’Ñ‹ÑĞ¾ĞºĞ°Ñ Ñ‚ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ° Ğ¿Ğ¾Ğ´Ğ°Ñ‡Ğ¸",
  "description": "Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¸ Ñ‚ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğµ Ğ¿Ğ¾Ğ´Ğ°Ñ‡Ğ¸ Ğ²Ñ‹ÑˆĞµ 80Â°C",
  "condition": {
    "sensor_type": "temperature_heating_supply",
    "operator": "gt",
    "threshold": 80,
    "duration_seconds": 60
  },
  "action": {
    "type": "notification",
    "notification_message": "Ğ’Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ! Ğ¢ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ° Ğ¿Ğ¾Ğ´Ğ°Ñ‡Ğ¸ Ğ¿Ñ€ĞµĞ²Ñ‹ÑĞ¸Ğ»Ğ° 80Â°C"
  },
  "enabled": true,
  "priority": 1
}
```

ĞĞ¿ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€Ñ‹: `gt` (>), `lt` (<), `eq` (=), `gte` (>=), `lte` (<=)

## Ğ Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğµ

### Vercel (Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµÑ‚ÑÑ)

1. Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğµ Vercel CLI: `npm i -g vercel`
2. Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğµ: `vercel`
3. Ğ”Ğ¾Ğ±Ğ°Ğ²ÑŒÑ‚Ğµ Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ Ğ² Vercel Dashboard

### Docker

```dockerfile
FROM node:20-alpine
WORKDIR /app
COPY package*.json ./
RUN npm ci
COPY . .
RUN npm run build
EXPOSE 3000
CMD ["npm", "start"]
```

## Roadmap

- [ ] Telegram Ğ±Ğ¾Ñ‚ Ğ´Ğ»Ñ Ğ¾Ğ¿Ğ¾Ğ²ĞµÑ‰ĞµĞ½Ğ¸Ğ¹
- [ ] Mobile Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ
- [ ] Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ² CSV/Excel
- [ ] Ğ Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ½Ğ°Ñ Ğ°Ğ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ°
- [ ] ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¸Ñ… Ğ´Ğ¾Ğ¼Ğ¾Ğ²
- [ ] Ğ“Ğ¾Ğ»Ğ¾ÑĞ¾Ğ²Ğ¾Ğµ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ

## Ğ›Ğ¸Ñ†ĞµĞ½Ğ·Ğ¸Ñ

MIT

## ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°

Ğ”Ğ»Ñ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² Ğ¸ Ğ¿Ñ€ĞµĞ´Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğ¹ ÑĞ¾Ğ·Ğ´Ğ°Ğ²Ğ°Ğ¹Ñ‚Ğµ Issue Ğ² Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¸.
